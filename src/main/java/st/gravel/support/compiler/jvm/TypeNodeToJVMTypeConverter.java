package st.gravel.support.compiler.jvm;

/*
	This file is automatically generated from typed smalltalk source. Do not edit by hand.
	(C) AG5.com
*/

import java.math.BigInteger;
import st.gravel.support.jvm.NonLocalReturn;
import st.gravel.support.compiler.ast.NodeVisitor;
import st.gravel.support.compiler.jvm.JVMType;
import st.gravel.support.compiler.ast.NodeVisitor.NodeVisitor_Factory;
import st.gravel.support.compiler.ast.Node;
import st.gravel.support.compiler.jvm.JVMDynamicObjectType;
import st.gravel.support.compiler.ast.TypeNode;
import st.gravel.support.compiler.ast.TypeVariableNode;
import st.gravel.support.compiler.jvm.JVMIntType;
import st.gravel.support.compiler.jvm.JVMBooleanType;

public class TypeNodeToJVMTypeConverter extends NodeVisitor<JVMType> implements Cloneable {

	public static TypeNodeToJVMTypeConverter_Factory factory = new TypeNodeToJVMTypeConverter_Factory();

	public static class TypeNodeToJVMTypeConverter_Factory extends NodeVisitor_Factory<JVMType> {

		public TypeNodeToJVMTypeConverter basicNew() {
			TypeNodeToJVMTypeConverter newInstance = new TypeNodeToJVMTypeConverter();
			newInstance.initialize();
			return newInstance;
		}

		public JVMType visit_(final Node _anObject) {
			if (_anObject == null) {
				return JVMDynamicObjectType.factory.basicNew();
			}
			return this.basicNew().visit_(_anObject);
		}
	}

	static public JVMType _visit_(Object receiver, final Node _anObject) {
		return factory.visit_(_anObject);
	}

	public TypeNodeToJVMTypeConverter copy() {
		try {
			TypeNodeToJVMTypeConverter _temp1 = (TypeNodeToJVMTypeConverter) this.clone();
			_temp1.postCopy();
			return _temp1;
		} catch (CloneNotSupportedException e) {
			throw new RuntimeException(e);
		}
	}

	public TypeNodeToJVMTypeConverter_Factory factory() {
		return factory;
	}

	@Override
	public JVMType visitTypeNode_(final TypeNode _anObject) {
		return JVMDynamicObjectType.factory.basicNew();
	}

	@Override
	public JVMType visitTypeVariableNode_(final TypeVariableNode _anObject) {
		if (st.gravel.support.jvm.StringExtensions.equals_(_anObject.name(), "Integer")) {
			return JVMIntType.factory.basicNew();
		}
		if (st.gravel.support.jvm.StringExtensions.equals_(_anObject.name(), "Boolean")) {
			return JVMBooleanType.factory.basicNew();
		}
		return JVMDynamicObjectType.factory.basicNew();
	}
}
